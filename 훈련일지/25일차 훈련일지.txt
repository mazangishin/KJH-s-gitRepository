25일차

능력단위: SQL 활용

선수테이블에서 전체 행의 수,
키 건수, 최대키, 최소키, 평균키
를 구하시오
- 평균키는 소수점 3자리에서 반올림

480	447	196	165    179.31

기본키
not null


포지션별 최대키, 최소키, 평균키를 출력하시오
포지션	인원수	키대상	최대키	최소키 평균키
NULL	3	0	NULL	NULL	NULL
GK	43	43	196	174	186.26
DF	172	142	190	170	180.21
FW	100	100	194	168	179.91
MF	162	162	189	165	176.31


HAVING 절
SELECT절에 조건을 사용하여 결과를 제한할 때는
WHERE 절을 사용하며,
그룹의 결과를 제한할 때는 HAVING절을 사용한다



부서의 최대값과 최소값을 구하되
최대 급여가 2900 이상인 부서만 
출력하시오
DEPTNO	MAX(SAL)	MIN(SAL)
20	3000		800
10	5000		1300

1.선수테이블에서 포지션별 평균키가 180센티미터 이상인 
포지션 정보를 표시하시오
포지션	평균키

2.K-리그의 선수들 중 
삼성블루윙즈와 FC서울의 인원수는 
얼마인가?
팀_ID	인원수




3.포지션별 평균키만 출력하는데,
최대키가 190cm 이상인 선수를 가지고 있는
포지션의 정보만 조회하시오(평균키는 소수점 3자리에서 반올림)
포지션		평균키


SELECT TEAM_ID  AS 팀_ID ,
       COUNT(*) AS 인원수
FROM PLAYER
WHERE TEAM_ID = 'K02' OR TEAM_ID = 'K09'
GROUP BY TEAM_ID;

order by절
정렬
정렬은 크기 순서대로 나열하는 것이다
정렬은 크게 두 가지로 나누어진다.
작은 값이 출력되면서 갈수록 큰 값이 출력되는 오름차순(ascending)
큰 값이 출력되면서 아래로 갈수록 작은 값이 출력되는 내림차순
(descending) 정렬 방식이 있다.


표현식
SELECT 컬럼명                5
FROM 테이블명              1
[WHERE 조건식]              2  
[GROUP BY 컬럼명이나 표현식]   3
[HAVING 그룹조건식]                4
[ORDER BY 컬럼이나 표현식 [ASC 또는 DESC]]   6

1: 발췌 대상 테이블을 참조한다
2: 발췌 대상 데이터가 아닌 것은 제거한다
3: 행들을 소그룹화 한다
4: 그룹핑된 값의 조건에 맞는 것만을 출력한다
5: 데이터 값을 출력/계산한다
6: 데이터를 정렬한다


asc : 조회한 데이터를 오름차순으로 정렬한다(생략가능)
desc : 조회한 데이터를 내림차순으로 정렬한다


1.사원의 정보를 입사한 날짜가 가장 오래된
순서대로 출력하시오
모든 컬럼 표시

2.가장 최근에 입사한 사람부터 조회가 가능하도록
SQL문을 작성하시오
모든 컬럼 표시




1.EMP테이블의 자료에서 입사일을 오름차순으로 정렬하여
출력하되 사원번호, 사원명, 직급, 입사일 컬럼을 출력하는
쿼리문을 작성하세요

2.EMP테이블의 자료를 사원번호를 기준으로 내림차순으로
정렬하여 사원번호와 사원명 컬럼을 표시하세요
(단, 컬럼명은 영어로 표시한다)

3.부서 번호가 빠른 사원부터 출력하되 
같은 부서내의 사원을 출력할 경우 
최근에 입사한 사원부터 출력하되 
사원번호, 입사일, 사원명, 급여순으로 출력하시오

4.선수테이블에서 선수들의 이름, 포지션, 백넘버를 
출력하는데 사람 이름을 내림차순으로 출력하시오
선수명, 포지션, 백넘버

5.키가 큰 순서대로, 키가 같은 경우 백넘버 순으로
적용하시오
(단, 키가 NULL인 데이터는 제외한다)
선수이름	포지션 백넘버	키


사원테이블에서 입사년도, 일사일, 입사시간, 입사분,
입사초와 같이 날짜 단위들을 VIEW로 생성하시오

2000년1월1일 0시 0분 0초

사원번호, 사원이름, 입사날짜
, 2000년1월1일 0시 0분 0초 - 입사날짜 as 경력년수
, 경력초

CREATE VIEW EMP_BOOKS_VIEW(VIEW이름)
AS
필요한 데이터 내용에 관한 SELECT문


조인(JOIN)
관계형 데이터베이스에서는 테이블 간의 관계를
중요시 한다.
하나 이상의 테이블을 빈번히 결합하여 사용하는데
이때 사용되는 것을 조인이라고 한다.

2개 이상의 테이블을 통해 원하는 정보를 얻기 위해서는
여러 테이블을 조인해야 한다.

equi join

표현식
select 테이블1.컬럼명, 테이블2.컬럼명, ...
from 테이블1, 테이블2
where 테이블1.컬럼명1 = 테이블2.컬럼명2;  <- 조인구문

선수 테이블과 팀 테이블에서 선수 이름과 
소속된 팀의 이름을 출력하시오

선수명	소속팀명

column ambiguously defined
컬럼이 제데로 정의되지 않았다

모호하게 정의 된 열

조인을 사용하여
1.뉴욕에서 근무하는 사원의 이름과
급여를 출력하시오
ENAME	SAL

2.ACCOUNTING 부서 소속 사원의 이름과 
입사일을 SQL문으로 작성하시오
ENAME	HIREDATE

3.직급이 MANAGER인 사원의 
이름, 부서명을 조회하되
사원의 이름순으로 정렬하시오
ENAME	DNAME



뷰
VIEW 보다

실제 테이블에 저장된 데이터를 
뷰를 통해서 볼 수 있다

뷰는 물리적인 테이블에 근거한 논리적인 가상 테이블이라고 
정의할 수 있다. 가상이란 단어는 실질적으로 데이터를 저장하고 
있지 않기 때문에 붙인것이다.
테이블이라는 단어는 실질적으로 데이터를 저장하고 있지 않더라도
사용자는 마치 테이블을 사용하는 것과 동일하게 뷰를 사용할 수 있기
때문에 붙인 것이다.
